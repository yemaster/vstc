import{_ as P,i as _,r as y,o as l,c as h,a as o,F as d,b,t as c,d as f,h as v,g as I,n as p,w as M,v as S,e as g}from"./index-dd084929.js";const A=(e,t)=>{const n=e[t];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t)))})};console.log(globalThis);const k={data(){return{types:["送分题","单选题","多选题","填空题","判断题"],chs:["A","B","C","D","E","F","G","H","I","J","K","L","M","N"],problemInfo:{},nowProblems:[],problemState:[],nowAnswer:[],rightAnswer:[],wrongAnswer:[],answerList:[],errorProblems:[],writeAnswer:"",nowId:0,fading:!1,testMode:!1,isLoading:!0,practiceMode:0,showMode:1,errorMode:!1,lastManage:0,score:0,viewMode:!1,timeCount:0,timeCounter:0,nowTestMode:100,pre:[0,0,0,0,0],scoreSet:[0,0,0,0,0]}},watch:{nowId(e,t){this.nowAnswer=this.answerList[e],this.rightAnswer=[],this.wrongAnswer=[],this.nowProblems[e].type===3&&(this.nowAnswer.length>0?this.writeAnswer=this.nowAnswer[0]:this.writeAnswer=""),this.problemState[e]>1&&(this.problemState[e]=-1,this.submitAnswer()),this.showMode=1,this.storeInfo()}},computed:{rightRate(){return this.problemState.filter(e=>e>=2).length===0?0 .toFixed(2):(this.problemState.filter(e=>e===2).length/this.problemState.filter(e=>e>=2).length*100).toFixed(2)}},beforeUnmount(){clearInterval(this.timeCounter)},async mounted(){const e=this;let t=e.$route.params.id;try{const n=await A(Object.assign({"../assets/data/2023dekt.js":()=>_(()=>import("./2023dekt-7a5563c9.js"),[]),"../assets/data/2023sxdd.js":()=>_(()=>import("./2023sxdd-7be313dc.js"),[]),"../assets/data/2023txll.js":()=>_(()=>import("./2023txll-beba5a52.js"),[]),"../assets/data/2023xgxj.js":()=>_(()=>import("./2023xgxj-89e07f77.js"),[]),"../assets/data/test.js":()=>_(()=>import("./test-fdaf62e8.js"),[])}),`../assets/data/${t}.js`);e.problemInfo=n.problemInfo,e.isLoading=!1}catch{e.$router.replace("/notfound")}try{if(localStorage.vstcSaved==e.problemInfo.title)e.nowProblems=JSON.parse(localStorage.nowProblems),e.problemState=JSON.parse(localStorage.problemState),e.answerList=JSON.parse(localStorage.answerList),e.errorProblems=JSON.parse(localStorage.errorProblems),e.practiceMode=Number(localStorage.practiceMode)||0,e.testMode=localStorage.testMode=="true",e.errorMode=localStorage.errorMode=="true",e.nowId=Number(localStorage.nowId)||0,e.nowProblems[e.nowId].type===3&&(e.nowAnswer.length>0?e.writeAnswer=e.nowAnswer[0]:e.writeAnswer=""),e.problemState[e.nowId]>1&&(e.problemState[e.nowId]=-1,e.submitAnswer());else{e.nowProblems=e.problemInfo.problems,e.answerList=[],e.problemState=[];for(let n in e.nowProblems)e.answerList.push([]),e.problemState.push(0);e.errorProblems=[],e.nowId=0,e.testMode=!1,e.errorMode=!1}}catch{e.nowProblems=e.problemInfo.problems,e.answerList=[],e.problemState=[];for(let i in e.nowProblems)e.answerList.push([]),e.problemState.push(0);e.errorProblems=[],e.nowId=0,e.testMode=!1,e.errorMode=!1}document.addEventListener("keydown",n=>{const i=n.key.toUpperCase(),s=e.chs.indexOf(i),m=["Q","W","E","R","T","Y","U","I","O","P"].indexOf(i);i=="ENTER"||i==" "?(e.submitAnswer(),n.preventDefault()):m!=-1&&m>=0&&m<e.nowProblems[e.nowId].choices.length?e.choose(m):s!=-1&&s>=0&&s<e.nowProblems[e.nowId].choices.length?e.choose(s):i=="ARROWLEFT"&&e.nowId>0?e.nowId-=1:i=="ARROWRIGHT"&&e.nowId+1<e.nowProblems.length&&(e.nowId+=1)})},methods:{hashCode(e){let t=0;for(var n=0;n<e.length;n++)t=~~((t<<5)-t+e.charCodeAt(n));return Math.abs(t)},choose(e){this.problemState[this.nowId]>1||(this.nowProblems[this.nowId].type===1||this.nowProblems[this.nowId].type===4?(this.nowAnswer=[e],this.submitAnswer()):this.nowAnswer.indexOf(e)!==-1?this.nowAnswer=this.nowAnswer.filter(t=>t!==e):this.nowAnswer.push(e))},nextProblem(e=!0){this.nowId+1<this.nowProblems.length&&e&&setTimeout(()=>{this.nowId+=1},150)},checkAnswer(e=-1){this.rightAnswer=[],this.wrongAnswer=[];let t=e;if(e!==-1&&(this.nowAnswer=this.answerList[e]),t===-1&&(t=this.nowId),this.problemState[t]>1)return;let n=!0;this.problemState[t]===-1&&(n=!1);let i=0;if(this.nowProblems[t].type===1||this.nowProblems[t].type===4){for(let s in this.nowAnswer)this.nowAnswer[s]===this.nowProblems[t].answer?(i!==2&&(i=1),this.rightAnswer.push(this.nowAnswer[s])):(this.wrongAnswer.push(this.nowAnswer[s]),i=2);i!==1&&this.rightAnswer.push(this.nowProblems[t].answer)}else if(this.nowProblems[t].type===2){for(let s in this.nowProblems[t].answer)this.nowAnswer.indexOf(this.nowProblems[t].answer[s])===-1&&(this.rightAnswer.push(this.nowProblems[t].answer[s]),this.wrongAnswer.push(this.nowProblems[t].answer[s]),i=2);i===0&&(i=1);for(let s in this.nowAnswer)this.nowProblems[t].answer.indexOf(this.nowAnswer[s])===-1?(this.wrongAnswer.push(this.nowAnswer[s]),i=2):this.rightAnswer.push(this.nowAnswer[s])}else if(this.nowProblems[t].type===3){let s=[];e!=-1?this.nowAnswer.length>0&&(this.nowAnswer[0]=this.nowAnswer[0].replace(/，/g,","),s=this.nowAnswer[0].split(",")):(this.writeAnswer=this.writeAnswer.replace(/，/g,","),s=this.writeAnswer.split(",")),s.forEach(m=>{m=m.trim()}),i=1;let w=this.nowProblems[t].answer.split(",");if(w.forEach(m=>{m=m.trim()}),s.length!=w.length)i=2;else for(let m=0;m<s.length;++m){let r=w[m].split(";");if(r.forEach(a=>{a=a.trim()}),r.indexOf(s[m])==-1){i=2;break}}this.nowAnswer[0]=s.join(",")}this.answerList[t]=this.nowAnswer,i===1?(n&&(this.score+=this.scoreSet[this.nowProblems[t].type]),this.problemState[t]=2,e===-1&&this.nextProblem(n)):(n&&!this.errorMode&&(this.errorProblems.push(this.nowProblems[t]),localStorage.errorProblems=JSON.stringify(this.errorProblems)),this.problemState[t]=3)},clearRecord(){this.nowAnswer=[],this.rightAnswer=[],this.wrongAnswer=[],this.problemState=[],this.answerList=[],this.writeAnswer="",this.nowId=0;for(let e in this.nowProblems)this.problemState.push(0),this.answerList.push([]);this.showMode=1,this.storeInfo()},normalPractice(){this.practiceMode=0,this.errorMode=!1,this.testMode=!1,this.viewMode=!1,this.nowProblems=[...this.problemInfo.problems],this.clearRecord()},ruffleProblem(){this.practiceMode=1,this.errorMode=!1,this.testMode=!1,this.viewMode=!1,this.nowProblems=[...this.problemInfo.problems],this.nowProblems.sort(()=>Math.random()-.5);for(let e in this.nowProblems)if(this.nowProblems[e].type===1){let t=this.hashCode(this.nowProblems[e].choices[this.nowProblems[e].answer]);this.nowProblems[e].choices.sort(()=>Math.random()-.5);for(let n in this.nowProblems[e].choices)if(this.hashCode(this.nowProblems[e].choices[n])===t){this.nowProblems[e].answer=Number(n);break}}else if(this.nowProblems[e].type===2){let t=[];for(let n in this.nowProblems[e].answer)t.push(this.hashCode(this.nowProblems[e].choices[this.nowProblems[e].answer[n]]));this.nowProblems[e].answer=[],this.nowProblems[e].choices.sort(()=>Math.random()-.5);for(let n in this.nowProblems[e].choices)t.indexOf(this.hashCode(this.nowProblems[e].choices[n]))!==-1&&this.nowProblems[e].answer.push(Number(n))}this.clearRecord()},submitAnswer(e=-1){let t=e;t===-1&&(t=this.nowId),this.testMode?(this.nowProblems[t].type===3?(this.answerList[t]=[String(this.writeAnswer)],this.writeAnswer=""):this.answerList[t]=this.nowAnswer,this.problemState[t]=1,this.nextProblem()):this.checkAnswer(),this.storeInfo()},storeInfo(){this.testMode||(localStorage.vstcSaved=this.problemInfo.title,localStorage.nowProblems=JSON.stringify(this.nowProblems),localStorage.nowId=String(this.nowId),localStorage.practiceMode=String(this.practiceMode),localStorage.testMode=String(this.testMode),localStorage.errorMode=String(this.errorMode),localStorage.problemState=JSON.stringify(this.problemState),localStorage.answerList=JSON.stringify(this.answerList))},submitPaper(){for(let e in this.nowProblems)this.checkAnswer(e);this.testMode=!1,this.errorMode=!1,this.nowAnswer=this.answerList[this.nowId],this.showMode=2,this.viewMode=!0,clearInterval(this.timeCounter)},doTest(){if(this.ruffleProblem(),this.practiceMode=2,this.testMode=!0,this.errorMode=!1,this.nowTestMode=this.problemInfo.test,this.scoreSet=this.problemInfo.score,typeof this.problemInfo.test=="number")this.nowProblems=this.nowProblems.slice(0,this.problemInfo.test);else{const e=[...this.nowProblems];this.nowProblems=[];for(let t=0;t<this.problemInfo.test.length;++t){let n=this.problemInfo.test[t];for(let i=0;i<e.length&&!(e[i].type==t&&(this.nowProblems.push(e[i]),n-=1,n==0));++i);}this.pre=[0,0,0,0,0];for(let t=1;t<this.problemInfo.test.length;++t)this.pre[t]=this.pre[t-1]+this.problemInfo.test[t-1]}this.viewMode=!1,this.timeCount=0,this.score=0,clearInterval(this.timeCounter),this.timeCounter=setInterval(()=>{this.timeCount+=1},1e3)},doWrongProblems(){if(this.errorProblems.length==0){alert("暂无错题!");return}this.practiceMode=3,this.errorMode=!0,this.testMode=!1,this.viewMode=!1,this.nowProblems=[...this.errorProblems],this.clearRecord()},deleteThisProblem(e){if(new Date().getTime()-this.lastManage<=12e4||confirm("真的要移除这道题吗？")){if(this.lastManage=new Date().getTime(),e<0||e>=this.errorProblems.length)return;if(this.errorProblems.length==1){this.errorProblems=[],alert("错题已经全部清空!"),this.normalPractice();return}this.problemState=this.problemState.slice(0,e).concat(this.problemState.slice(e+1)),this.answerList=this.answerList.slice(0,e).concat(this.answerList.slice(e+1)),this.errorProblems=this.errorProblems.slice(0,e).concat(this.errorProblems.slice(e+1));for(let n=this.answerList.length;n<this.errorProblems.length;++n)this.problemState.push(0),this.answerList.push([]);this.nowProblems=[...this.errorProblems],e==this.errorProblems.length&&--this.nowId;const t=this.nowId;this.nowId=t,this.storeInfo()}},clearWrongProblem(){confirm("真的要清空全部错题吗？")&&(this.errorProblems=[],alert("错题已经全部清空!"),this.normalPractice())},timeFormat(e){let t="",n=Math.floor(e/60),i=e%60;return n<10&&(t=t+"0"),t=t+String(n),t+="分",i<10&&(t=t+"0"),t=t+String(i),t+="秒",t}}},C={class:"h3 mb-3 main-title",style:{color:"#212223"}},x={class:"title-text"},L=o("br",null,null,-1),O={style:{display:"none"},class:"show"},T={key:0},E={key:1},R={key:2},j=o("i",{class:"fal fa-bars"},null,-1),N=[j],D=o("i",{class:"fal fa-compass"},null,-1),F=[D],V={class:"nav-item"},J=o("i",{class:"fal fa-home"},null,-1),q={class:"nav-item"},W=o("i",{class:"fal fa-pen"},null,-1),B={class:"nav-item"},U=o("i",{class:"fal fa-shuffle"},null,-1),H={class:"nav-item"},G=o("i",{class:"fal fa-scroll"},null,-1),K={class:"nav-item"},Q=o("i",{class:"fal fa-x"},null,-1),Y={key:0,class:"loader d-flex justify-content-center"},X=o("div",{class:"spinner-border text-primary",style:{margin:"auto"}},null,-1),Z=[X],z={key:1,class:"row"},$={class:"problem-show"},ee={class:"problem-content mb-4"},se={class:"badge badge-primary mr-2"},te=["textContent"],oe={class:"answer-area mb-4"},ne={class:"form-group"},re={key:0,class:"form-group"},ie=["value"],le=["onClick"],he={class:"manage-area"},ce=o("span",{class:"btn-inner--icon"},[o("i",{class:"fal fa-check"})],-1),we=o("span",{class:"btn-inner--text"},"确定",-1),ae=[ce,we],me=o("span",{class:"btn-inner--icon"},[o("i",{class:"far fa-chevron-left"})],-1),be=o("span",{class:"btn-inner--text"},"上一题",-1),pe=[me,be],de=o("span",{class:"btn-inner--text"},"下一题",-1),fe=o("span",{class:"btn-inner--icon"},[o("i",{class:"far fa-chevron-right"})],-1),ue=[de,fe],_e=o("span",{class:"btn-inner--icon"},[o("i",{class:"far fa-x"})],-1),ge=o("span",{class:"btn-inner--text"},"移出错题",-1),Pe=[_e,ge],ye=o("span",{class:"btn-inner--icon"},[o("i",{class:"far fa-trash"})],-1),ve=[ye],Ie=o("span",{class:"btn-inner--icon"},[o("i",{class:"fal fa-paper-plane"})],-1),Me=o("span",{class:"btn-inner--text"},"交卷",-1),Se=[Ie,Me],Ae={class:"hidden"},ke={key:0},Ce={key:1},xe={key:2},Le={class:"choice-buttons"},Oe=o("div",{style:{height:"1px",width:"100%","background-color":"#eee",margin:"5px 0"}},null,-1),Te=o("br",null,null,-1),Ee=["onClick"],Re=o("br",null,null,-1),je=["onClick"],Ne=o("div",{class:"divider hidden"},null,-1),De=o("a",{href:"javascript:alert('请加qq 1440169768!')"},"意见反馈",-1),Fe=o("a",{href:"https://github.com/yemaster/vstc"},"yemaster",-1);function Ve(e,t,n,i,s,w){const m=y("router-link");return l(),h(d,null,[o("div",C,[o("div",x,[s.isLoading?f("",!0):(l(),h(d,{key:0},[b(c(s.problemInfo.title)+" - ",1)],64)),b("VSTC 答题自测"),L,o("span",O,[s.testMode?(l(),h("span",T," 用时："+c(w.timeFormat(s.timeCount)),1)):s.viewMode?(l(),h("span",E,"用时："+c(w.timeFormat(s.timeCount))+"，得分："+c(s.score),1)):(l(),h("span",R,[o("span",null,"正确:"+c(this.problemState.filter(r=>r===2).length)+",已答:"+c(this.problemState.filter(r=>r>0).length)+",",1),b("正确率: "+c(w.rightRate)+"% ",1)]))])])]),o("button",{class:"display-none show btn-icon btn btn-info btn-sm menu-btn1",onClick:t[0]||(t[0]=r=>s.showMode==0?s.showMode=1:s.showMode=0)},N),o("button",{class:"display-none show btn-icon btn btn-light btn-sm menu-btn2",onClick:t[1]||(t[1]=r=>s.showMode==2?s.showMode=1:s.showMode=2)},F),o("ul",{class:p(["nav",{show:s.showMode===0,hidden:s.showMode!==0}])},[o("li",V,[v(m,{class:"nav-link",to:{name:"Index"}},{default:I(()=>[J,b("返回首页 ")]),_:1})]),o("li",q,[o("a",{class:p(["nav-link primary",{active:s.practiceMode==0}]),href:"javascript:;",onClick:t[2]||(t[2]=r=>w.normalPractice())},[W,b("顺序练习 ")],2)]),o("li",B,[o("a",{class:p(["nav-link primary",{active:s.practiceMode==1}]),href:"javascript:;",onClick:t[3]||(t[3]=r=>w.ruffleProblem())},[U,b("打乱题序 ")],2)]),o("li",H,[o("a",{class:p(["nav-link red",{active:s.practiceMode==2}]),href:"javascript:;",onClick:t[4]||(t[4]=r=>w.doTest())},[G,b("模拟测试 ")],2)]),o("li",K,[o("a",{class:p(["nav-link orange",{active:s.practiceMode==3}]),href:"javascript:;",onClick:t[5]||(t[5]=r=>w.doWrongProblems())},[Q,b("错题回顾 ")],2)])],2),s.isLoading?(l(),h("div",Y,Z)):(l(),h("div",z,[o("div",{class:p(["col-md-9 col-sm-12",{show:s.showMode===1,hidden:s.showMode!==1}]),style:{height:"100%"}},[o("div",{class:p(["height-100",{fade:s.fading}]),style:{transition:"all .2s"}},[o("div",$,[o("div",ee,[o("span",se,c(s.types[s.nowProblems[s.nowId].type]),1),b(c(s.nowId+1)+"/"+c(s.nowProblems.length)+". ",1),o("span",{textContent:c(s.nowProblems[s.nowId].content)},null,8,te)]),o("div",oe,[s.nowProblems[s.nowId].type===3?(l(),h(d,{key:0},[o("div",ne,[M(o("input",{class:p(["form-control form-control-alternative",{"input-success":s.problemState[s.nowId]===2,"input-error":s.problemState[s.nowId]===3}]),"onUpdate:modelValue":t[6]||(t[6]=r=>s.writeAnswer=r),placeholder:"多个答案之间用逗号隔开！"},null,2),[[S,s.writeAnswer]])]),s.problemState[s.nowId]===3?(l(),h("div",re,[o("input",{class:"form-control form-control-alternative input-success readonly",readonly:"",value:s.nowProblems[s.nowId].answer},null,8,ie)])):f("",!0)],64)):(l(!0),h(d,{key:1},g(s.nowProblems[s.nowId].choices,(r,a)=>(l(),h("span",{class:p(["choose-box",{chosen:s.nowAnswer.indexOf(a)!==-1,wrong:s.wrongAnswer.indexOf(a)!==-1,right:s.rightAnswer.indexOf(a)!==-1}]),onClick:u=>w.choose(a)},c(s.chs[a])+". "+c(r),11,le))),256))])]),o("div",he,[s.problemState[s.nowId]<=1&&s.nowProblems[s.nowId].type!==1&&s.nowProblems[s.nowId].type!==4?(l(),h("button",{key:0,class:"btn btn-icon btn-primary btn-sm",type:"button",onClick:t[7]||(t[7]=r=>w.submitAnswer())},ae)):f("",!0),this.nowId>0?(l(),h("button",{key:1,class:"btn btn-icon btn-light btn-sm",type:"button",onClick:t[8]||(t[8]=r=>this.nowId-=1)},pe)):f("",!0),this.nowId+1<this.nowProblems.length?(l(),h("button",{key:2,class:"btn btn-icon btn-light btn-sm",type:"button",onClick:t[9]||(t[9]=r=>this.nowId+=1)},ue)):f("",!0),this.errorMode?(l(),h("button",{key:3,class:"btn btn-icon btn-outline-danger btn-sm",type:"button",onClick:t[10]||(t[10]=r=>w.deleteThisProblem(this.nowId))},Pe)):f("",!0),this.errorMode?(l(),h("button",{key:4,class:"btn btn-icon btn-outline-light btn-sm",type:"button",onClick:t[11]||(t[11]=r=>w.clearWrongProblem())},ve)):f("",!0),s.testMode?(l(),h("button",{key:5,class:"btn btn-icon btn-info btn-sm",type:"button",onClick:t[12]||(t[12]=(...r)=>w.submitPaper&&w.submitPaper(...r))},Se)):f("",!0)])],2)],2),o("div",{class:p(["col-md-3 col-sm-12",{show:s.showMode===2,hidden:s.showMode!==2}])},[o("div",Ae,[s.testMode?(l(),h("span",ke," 用时："+c(w.timeFormat(s.timeCount)),1)):s.viewMode?(l(),h("span",Ce,"用时："+c(w.timeFormat(s.timeCount))+"，得分："+c(s.score),1)):(l(),h("span",xe,[o("span",null,"正确:"+c(this.problemState.filter(r=>r===2).length)+",已答:"+c(this.problemState.filter(r=>r>0).length)+",",1),b("正确率: "+c(w.rightRate)+"% ",1)]))]),o("div",Le,[Oe,(s.testMode||s.viewMode)&&typeof s.nowTestMode!="number"?(l(!0),h(d,{key:0},g(s.nowTestMode,(r,a)=>(l(),h(d,null,[r>0?(l(),h(d,{key:0},[o("b",null,c(s.types[a])+"("+c(s.scoreSet[a]*r)+"分)",1),Te,(l(!0),h(d,null,g(r,u=>(l(),h("button",{class:p(["btn btn-sm",{"btn-outline-light":s.problemState[u+s.pre[a]-1]===0,"btn-outline-primary":s.problemState[u+s.pre[a]-1]===1,"btn-outline-success":s.problemState[u+s.pre[a]-1]===2,"btn-outline-danger":s.problemState[u+s.pre[a]-1]===3}]),style:{margin:"5px"},onClick:Je=>s.nowId=u+s.pre[a]-1},c(u+s.pre[a]),11,Ee))),256)),Re],64)):f("",!0)],64))),256)):(l(!0),h(d,{key:1},g(s.nowProblems.length,r=>(l(),h("button",{class:p(["btn btn-sm",{"btn-outline-light":s.problemState[r-1]===0,"btn-outline-primary":s.problemState[r-1]===1,"btn-outline-success":s.problemState[r-1]===2,"btn-outline-danger":s.problemState[r-1]===3}]),style:{margin:"5px"},onClick:a=>s.nowId=r-1},c(r),11,je))),256))])],2),Ne,De,b("  | By "),Fe,b(". ")]))],64)}const We=P(k,[["render",Ve]]);export{We as default};
